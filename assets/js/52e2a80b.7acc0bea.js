"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[12],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},y=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(r),y=o,f=c["".concat(l,".").concat(y)]||c[y]||d[y]||a;return r?n.createElement(f,i(i({ref:t},p),{},{components:r})):n.createElement(f,i({ref:t},p))}));function f(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=y;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:o,i[1]=s;for(var u=2;u<a;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}y.displayName="MDXCreateElement"},6861:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var n=r(7462),o=(r(7294),r(3905));const a={title:"Intro / Motivation"},i=void 0,s={unversionedId:"readme",id:"readme",title:"Intro / Motivation",description:"typo is a source code generator which uses postgres schema definitions and your sql definitions as sources of truth.",source:"@site/docs/readme.md",sourceDirName:".",slug:"/",permalink:"/typo/docs/",draft:!1,tags:[],version:"current",frontMatter:{title:"Intro / Motivation"},sidebar:"tutorialSidebar",next:{title:"SQL is king!",permalink:"/typo/docs/what-is/sql-is-king"}},l={},u=[{value:"Motivation",id:"motivation",level:2},{value:"Build safer systems",id:"build-safer-systems",level:3},{value:"Existing developer flow for SQL &lt;-&gt; JVM is terrible.",id:"existing-developer-flow-for-sql---jvm-is-terrible",level:3},{value:"Types of interaction with the database",id:"types-of-interaction-with-the-database",level:3}],p={toc:u},c="wrapper";function d(e){let{components:t,...r}=e;return(0,o.kt)(c,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"typo is a source code generator which uses postgres schema definitions and your sql definitions as sources of truth. "),(0,o.kt)("p",null,"With a razor-sharp focus on type-safety and DX, hopefully you'll find the experience very pleasant."),(0,o.kt)("h2",{id:"motivation"},"Motivation"),(0,o.kt)("h3",{id:"build-safer-systems"},"Build safer systems"),(0,o.kt)("p",null,"We use the compiler to verify our programs. All is great, until you need to interact with the messy outside world."),(0,o.kt)("p",null,"One of the best tools we have available to help the compiler verify our interactions with the outside world is contract-driven development."),(0,o.kt)("p",null,"Say an API is described by an OpenApi definition.\nIf you use that to generate code for the HTTP layer, you guarantee that you implement it correctly. Because if you don't, the compiler will helpfully guide you!"),(0,o.kt)("p",null,"typo intends to provide the same safety in the database layer.\nIt does this by generating correct code for all your tables, views and queries based on postgres metadata tables."),(0,o.kt)("h3",{id:"existing-developer-flow-for-sql---jvm-is-terrible"},"Existing developer flow for SQL <-> JVM is terrible."),(0,o.kt)("p",null,"Typical current state of affairs:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"1) you write some sql"),(0,o.kt)("li",{parentName:"ul"},"2) intellij may not inject sql support, connection and/or schema, so you're telling it what to do again"),(0,o.kt)("li",{parentName:"ul"},"3) you interpolate in some parameters, but the compiler yells at you for not having defined the right typeclass instances. Error messages are typically unhelpful"),(0,o.kt)("li",{parentName:"ul"},"4) you manually map a sequence of either column names or indices to a name in a case class"),(0,o.kt)("li",{parentName:"ul"},"5) you manually map a sequence of either column names or indices to a type in a case class. New typeclass instances to implement."),(0,o.kt)("li",{parentName:"ul"},"6) the compiler checks none of the above, so now you're writing tests"),(0,o.kt)("li",{parentName:"ul"},"7) tests are tedious to write")),(0,o.kt)("p",null,"and then the worst: ",(0,o.kt)("strong",{parentName:"p"},"Whenever you refactor you're stuck fighting with points 1-7, for all future.")),(0,o.kt)("p",null,"You also typically write the same essential boilerplate for ~all tables."),(0,o.kt)("p",null,"typo provides a better workflow for points 2-7, and frees you from writing boilerplate. Keep reading to see more"),(0,o.kt)("h3",{id:"types-of-interaction-with-the-database"},"Types of interaction with the database"),(0,o.kt)("p",null,"Interactions with the database can be grouped into four groups.\nThe distinction is useful when determining which typo feature should be used."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"create, update, delete. pure crud operations. In typo these are covered by ",(0,o.kt)("a",{parentName:"li",href:"/typo/docs/what-is/relations"},"repository methods")," and ",(0,o.kt)("a",{parentName:"li",href:"/typo/docs/what-is/dsl"},"SQL DSL")),(0,o.kt)("li",{parentName:"ul"},'"simple" reads from relations. typically with joins, but without aggregations or selections. In typo these are covered by the ',(0,o.kt)("a",{parentName:"li",href:"/typo/docs/what-is/dsl"},"SQL DSL")),(0,o.kt)("li",{parentName:"ul"},'"complex reads" \u2014 aggregations, window functions \u2014 you name it! in typo these interactions are covered by ',(0,o.kt)("a",{parentName:"li",href:"/typo/docs/what-is/sql-is-king"},"writing sql files")),(0,o.kt)("li",{parentName:"ul"},"dynamic queries.\nThese are typically rare and expensive both to implement and run. typo does ",(0,o.kt)("em",{parentName:"li"},"not")," currently solve this use case well, so you can fall back to your ",(0,o.kt)("a",{parentName:"li",href:"/typo/docs/other-features/flexible"},"existing database library")," and implement this yourself.\nMaybe we can come up with some generated solution for some use cases in the future!")))}d.isMDXComponent=!0}}]);