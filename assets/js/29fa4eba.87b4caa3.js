"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[2884],{3905:(e,t,o)=>{o.d(t,{Zo:()=>u,kt:()=>m});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var c=n.createContext({}),l=function(e){var t=n.useContext(c),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},u=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},p="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(o),d=r,m=p["".concat(c,".").concat(d)]||p[d]||f[d]||a;return o?n.createElement(m,i(i({ref:t},u),{},{components:o})):n.createElement(m,i({ref:t},u))}));function m(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[p]="string"==typeof e?e:r,i[1]=s;for(var l=2;l<a;l++)i[l]=o[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},1936:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>f,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var n=o(7462),r=(o(7294),o(3905));const a={title:"Focus on fast(er) compiles"},i=void 0,s={unversionedId:"other-features/faster-compilation",id:"other-features/faster-compilation",title:"Focus on fast(er) compiles",description:"If you have a big database schema, Typo can easily produce tens to hundreds of thousands of lines of code.",source:"@site/docs/other-features/faster-compilation.md",sourceDirName:"other-features",slug:"/other-features/faster-compilation",permalink:"/typo/docs/other-features/faster-compilation",draft:!1,tags:[],version:"current",frontMatter:{title:"Focus on fast(er) compiles"},sidebar:"tutorialSidebar",previous:{title:"JSON codecs",permalink:"/typo/docs/other-features/json"},next:{title:"Compatible with your project",permalink:"/typo/docs/other-features/flexible"}},c={},l=[{value:"Limit how much code is generated",id:"limit-how-much-code-is-generated",level:2},{value:"The following measures have been taken to compile code fast",id:"the-following-measures-have-been-taken-to-compile-code-fast",level:2}],u={toc:l},p="wrapper";function f(e){let{components:t,...o}=e;return(0,r.kt)(p,(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"If you have a big database schema, Typo can easily produce tens to hundreds of thousands of lines of code.\nAnd it's all full of implicit type class instances."),(0,r.kt)("h2",{id:"limit-how-much-code-is-generated"},"Limit how much code is generated"),(0,r.kt)("p",null,"The main thing you can affect is to ask for less code to be generated. "),(0,r.kt)("p",null,"This is done by ",(0,r.kt)("a",{parentName:"p",href:"/typo/docs/customization/customize-selected-relations"},"customizing selected relations"),"."),(0,r.kt)("h2",{id:"the-following-measures-have-been-taken-to-compile-code-fast"},"The following measures have been taken to compile code fast"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"work around auto-derivation which takes precedence over instances in companion objects.\nFor doobie it's the case the ",(0,r.kt)("inlineCode",{parentName:"li"},"Read"),"-instances, for example, are re-rederived instead of found on the companion object. "),(0,r.kt)("li",{parentName:"ul"},"inlined ~all implicits to save the resolving time"),(0,r.kt)("li",{parentName:"ul"},"generate code which defines instances with methods instead of anonymous classes, in order to generate (much) less bytecode")),(0,r.kt)("p",null,"The effect was to compile 80k sources in 20 seconds instead of more than a minute, across all supported scala versions."))}f.isMDXComponent=!0}}]);