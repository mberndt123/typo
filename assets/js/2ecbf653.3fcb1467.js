"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[5867],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},y=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),y=r,d=u["".concat(l,".").concat(y)]||u[y]||m[y]||a;return n?o.createElement(d,i(i({ref:t},p),{},{components:n})):o.createElement(d,i({ref:t},p))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=y;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}y.displayName="MDXCreateElement"},8130:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const a={title:"Customize selected relations"},i=void 0,s={unversionedId:"customization/customize-selected-relations",id:"customization/customize-selected-relations",title:"Customize selected relations",description:"You typically have many more relations in your database than you want to expose to application code.",source:"@site/docs/customization/customize-selected-relations.md",sourceDirName:"customization",slug:"/customization/customize-selected-relations",permalink:"/typo/docs/customization/customize-selected-relations",draft:!1,tags:[],version:"current",frontMatter:{title:"Customize selected relations"},sidebar:"tutorialSidebar",previous:{title:"Customizing Typo",permalink:"/typo/docs/customization/overview"},next:{title:"Customize SQL files",permalink:"/typo/docs/customization/customize-sql-files"}},l={},c=[{value:"Transitive relations",id:"transitive-relations",level:2}],p={toc:c},u="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,o.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"You typically have many more relations in your database than you want to expose to application code.\nMaybe you're generating code for just a part of the system, not the whole thing."),(0,r.kt)("p",null,"Typo has a mechanism by which you can choose which relations to generate code for."),(0,r.kt)("p",null,"among the arguments to ",(0,r.kt)("inlineCode",{parentName:"p"},"generateFromDb")," is ",(0,r.kt)("inlineCode",{parentName:"p"},"selector"),", which by default picks all relations except those in the postgres schemas.\nSee ",(0,r.kt)("a",{parentName:"p",href:"/typo/docs/customization/selector"},"Selector")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-scala"},"import typo.*\n\ngenerateFromDb(options, selector = Selector.ExcludePostgresInternal)\n")),(0,r.kt)("h2",{id:"transitive-relations"},"Transitive relations"),(0,r.kt)("p",null,"So in Typo we say that relations have dependencies, see ",(0,r.kt)("a",{parentName:"p",href:"/typo/docs/type-safety/type-flow"},"flow typing"),". "),(0,r.kt)("p",null,"Say you have some ",(0,r.kt)("a",{parentName:"p",href:"/typo/docs/what-is/sql-is-king"},"sql files")," and have chosen some relations, and some of those have dependencies on other relations.\nTypo can optionally generate code for these dependencies as well. "),(0,r.kt)("p",null,"If you want that, you can  ",(0,r.kt)("a",{parentName:"p",href:"/typo/docs/customization/overview"},"customize")," Typo and set the ",(0,r.kt)("inlineCode",{parentName:"p"},"keepDependencies")," parameter to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," to generate code for those dependencies as well. "),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"keepDependencies")," is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," by default. If it's left at ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", you'll only see the ",(0,r.kt)("a",{parentName:"p",href:"/typo/docs/type-safety/id-types"},"primary key types")," for those relations"))}m.isMDXComponent=!0}}]);