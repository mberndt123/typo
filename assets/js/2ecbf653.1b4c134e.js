"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[1839],{8429:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var s=o(4848),n=o(8453);const i={title:"Customize selected relations"},a=void 0,r={id:"customization/customize-selected-relations",title:"Customize selected relations",description:"You typically have many more relations in your database than you want to expose to application code.",source:"@site/docs/customization/customize-selected-relations.md",sourceDirName:"customization",slug:"/customization/customize-selected-relations",permalink:"/typo/docs/customization/customize-selected-relations",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Customize selected relations"},sidebar:"tutorialSidebar",previous:{title:"Customizing Typo",permalink:"/typo/docs/customization/overview"},next:{title:"Customize SQL files",permalink:"/typo/docs/customization/customize-sql-files"}},c={},l=[{value:"Transitive relations",id:"transitive-relations",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"You typically have many more relations in your database than you want to expose to application code.\nMaybe you're generating code for just a part of the system, not the whole thing."}),"\n",(0,s.jsx)(t.p,{children:"Typo has a mechanism by which you can choose which relations to generate code for."}),"\n",(0,s.jsxs)(t.p,{children:["among the arguments to ",(0,s.jsx)(t.code,{children:"generateFromDb"})," is ",(0,s.jsx)(t.code,{children:"selector"}),", which by default picks all relations except those in the postgres schemas.\nSee ",(0,s.jsx)(t.a,{href:"/typo/docs/customization/selector",children:"Selector"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-scala",children:"import typo.*\n\ngenerateFromDb(options, selector = Selector.ExcludePostgresInternal)\n"})}),"\n",(0,s.jsx)(t.h2,{id:"transitive-relations",children:"Transitive relations"}),"\n",(0,s.jsxs)(t.p,{children:["So in Typo we say that relations have dependencies, see ",(0,s.jsx)(t.a,{href:"/typo/docs/type-safety/type-flow",children:"flow typing"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Say you have some ",(0,s.jsx)(t.a,{href:"/typo/docs/what-is/sql-is-king",children:"sql files"})," and have chosen some relations, and some of those have dependencies on other relations.\nTypo can optionally generate code for these dependencies as well."]}),"\n",(0,s.jsxs)(t.p,{children:["If you want that, you can  ",(0,s.jsx)(t.a,{href:"/typo/docs/customization/overview",children:"customize"})," Typo and set the ",(0,s.jsx)(t.code,{children:"keepDependencies"})," parameter to ",(0,s.jsx)(t.code,{children:"true"})," to generate code for those dependencies as well."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"keepDependencies"})," is set to ",(0,s.jsx)(t.code,{children:"false"})," by default. If it's left at ",(0,s.jsx)(t.code,{children:"false"}),", you'll only see the ",(0,s.jsx)(t.a,{href:"/typo/docs/type-safety/id-types",children:"primary key types"})," for those relations"]})]})}function p(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>r});var s=o(6540);const n={},i=s.createContext(n);function a(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);