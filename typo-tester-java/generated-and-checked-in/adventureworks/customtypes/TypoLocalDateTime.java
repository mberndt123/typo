/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes;

import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.time.format.DateTimeFormatterBuilder;
import java.time.temporal.ChronoField;
import java.time.temporal.ChronoUnit;

/** This is `java.time.LocalDateTime`, but with microsecond precision and transferred to and from postgres as strings. The reason is that postgres driver and db libs are broken */
public record TypoLocalDateTime(LocalDateTime value) {
  static public TypoLocalDateTime apply(LocalDateTime value) {
           return new TypoLocalDateTime(value.truncatedTo(ChronoUnit.MICROS));
         };
  static public TypoLocalDateTime apply(String str) {
           return apply(LocalDateTime.parse(str, parser));
         };
  static public TypoLocalDateTime now() {
           return new TypoLocalDateTime(LocalDateTime.now());
         };
  static DateTimeFormatter parser = new DateTimeFormatterBuilder().appendPattern("yyyy-MM-dd HH:mm:ss").appendFraction(ChronoField.MICRO_OF_SECOND, 0, 6, true).toFormatter();;
}