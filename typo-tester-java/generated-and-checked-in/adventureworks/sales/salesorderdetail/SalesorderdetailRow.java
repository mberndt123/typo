/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.sales.salesorderdetail;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.TypoLocalDateTime;
import adventureworks.customtypes.TypoShort;
import adventureworks.customtypes.TypoUUID;
import adventureworks.production.product.ProductId;
import adventureworks.sales.salesorderheader.SalesorderheaderId;
import adventureworks.sales.specialoffer.SpecialofferId;
import adventureworks.sales.specialofferproduct.SpecialofferproductId;
import java.math.BigDecimal;
import java.util.Optional;

/** Table: sales.salesorderdetail
  * Individual products associated with a specific sales order. See SalesOrderHeader.
  * Composite primary key: salesorderid, salesorderdetailid
  */
public record SalesorderdetailRow(
  /** Primary key. Foreign key to SalesOrderHeader.SalesOrderID.
    * Points to {@link adventureworks.sales.salesorderheader.SalesorderheaderRow.salesorderid}
    */
  SalesorderheaderId salesorderid,
  /** Primary key. One incremental unique number per product sold.
    * Default: nextval('sales.salesorderdetail_salesorderdetailid_seq'::regclass)
    */
  Integer salesorderdetailid,
  /** Shipment tracking number supplied by the shipper. */
  Optional</* max 25 chars */ String> carriertrackingnumber,
  /** Quantity ordered per product.
    * Constraint CK_SalesOrderDetail_OrderQty affecting columns orderqty: ((orderqty > 0))
    */
  TypoShort orderqty,
  /** Product sold to customer. Foreign key to Product.ProductID.
    * Points to {@link adventureworks.sales.specialofferproduct.SpecialofferproductRow.productid}
    */
  ProductId productid,
  /** Promotional code. Foreign key to SpecialOffer.SpecialOfferID.
    * Points to {@link adventureworks.sales.specialofferproduct.SpecialofferproductRow.specialofferid}
    */
  SpecialofferId specialofferid,
  /** Selling price of a single product.
    * Constraint CK_SalesOrderDetail_UnitPrice affecting columns unitprice: ((unitprice >= 0.00))
    */
  BigDecimal unitprice,
  /** Discount amount.
    * Default: 0.0
    * Constraint CK_SalesOrderDetail_UnitPriceDiscount affecting columns unitpricediscount: ((unitpricediscount >= 0.00))
    */
  BigDecimal unitpricediscount,
  /** Default: uuid_generate_v1() */
  TypoUUID rowguid,
  /** Default: now() */
  TypoLocalDateTime modifieddate
) {
  static public SalesorderdetailRow apply(
                                           SalesorderdetailId compositeId,
                                           Optional</* max 25 chars */ String> carriertrackingnumber,
                                           TypoShort orderqty,
                                           ProductId productid,
                                           SpecialofferId specialofferid,
                                           BigDecimal unitprice,
                                           BigDecimal unitpricediscount,
                                           TypoUUID rowguid,
                                           TypoLocalDateTime modifieddate
                                         ) {
           return new SalesorderdetailRow(compositeId.salesorderid(), compositeId.salesorderdetailid(), carriertrackingnumber, orderqty, productid, specialofferid, unitprice, unitpricediscount, rowguid, modifieddate);
         };
  public SalesorderdetailId compositeId() {
    return new SalesorderdetailId(salesorderid, salesorderdetailid);
  };
  public SpecialofferproductId extractSpecialofferproductId() {
    return new SpecialofferproductId(specialofferid, productid);
  };
  public SalesorderdetailId id() {
    return compositeId();
  };
  public SalesorderdetailRowUnsaved toUnsavedRow(
                                                  Defaulted<Integer> salesorderdetailid,
                                                  Defaulted<BigDecimal> unitpricediscount,
                                                  Defaulted<TypoUUID> rowguid,
                                                  Defaulted<TypoLocalDateTime> modifieddate
                                                ) {
    return new SalesorderdetailRowUnsaved(salesorderid, carriertrackingnumber, orderqty, productid, specialofferid, unitprice, salesorderdetailid, unitpricediscount, rowguid, modifieddate);
  };
}